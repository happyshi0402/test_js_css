var currentSelIndexMutiple=-1;var oldSelIndexMutiple=-1;$(function(){document.onclick=function(){$("ul.GL_filterTipMutiple").hide()};var b=$("textArea.GL_filterTipMutiple");for(var a=0;a<b.length;a++){$("<ul id='"+b[a].id+"_ul' class='GL_filterTipMutiple' onclick='GL_filterTipMutipleOnClickHandler(this,event)'></ul>").insertAfter("#"+b[a].id)}});function GL_filterTipMutipleClickHandler(e,d,b,a){GL_filterTipMutipleAutoComplete(e,b,a);GL_filterTipMutipleReSetSelIndex();var c=d||window.event;if(c.stopPropagation){c.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}}}function GL_filterTipMutipleKeyUpHandler(d,c,b,a){if(d.value==""){$("#"+d.id+"_ul").hide();GL_filterTipMutipleReSetSelIndex()}else{if(!($("#"+d.id+"_ul").css("display")!="none"&&(c.keyCode==38||c.keyCode==40||c.keyCode==13))){GL_filterTipMutipleAutoComplete(d,b,a);GL_filterTipMutipleReSetSelIndex()}}}function GL_filterTipMutipleAutoComplete(c,b,a){$.ajax({url:b,type:"POST",data:{q:c.value},success:function(f){var d=JSON.parse(f);$("#"+c.id+"_ul").empty();for(var e=0;e<d.length;e++){$("<li id='"+c.id+"_ul_li"+e+"'>"+d[e][a]+"</li>").appendTo($("#"+c.id+"_ul"))}if(d.length){$("#"+c.id+"_ul").show();$("#"+c.id+"_ul").show()}else{$("#"+c.id+"_ul").hide()}},error:function(){alert("http request fail")}})}function GL_filterTipMutipleOnClickHandler(e,c){var a=$("#"+e.id.substr(0,e.id.length-3)).val();var f=a.split(";");var d="";if(f.length>0){for(var b=0;b<f.length-1;b++){d+=f[b]+";"}}switch(navigator.appCodeName){case"Mozilla":d+=c.target.textContent+";";break;default:d+=c.target.innerText+";"}$("#"+e.id.substr(0,e.id.length-3)).val(d);$("#"+e.id).hide();GL_filterTipMutipleReSetSelIndex()}function GL_filterTipMutipleReSetSelIndex(){currentSelIndexMutiple=-1;oldSelIndexMutiple=-1};